(()=>{"use strict";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{impactHeavy:()=>te,impactLight:()=>re,impactMedium:()=>ee,impactTick:()=>oe,vibrate:()=>ne});const r=globalThis.__edger__;var o;!function(e){e.EVENT_SERVER="EVENT_SERVER",e.EVENT_CONTAINER="EVENT_CONTAINER",e.MAIN_DESKTOP="MAIN_DESKTOP",e.TRUST_ZONE="TRUST_ZONE"}(o||(o={}));const n=(e="Not Support")=>Promise.reject({message:e,status:"error"}),s=e=>e?e.then((t=>(console.log(e,t),"error"===t?.result?.status?n(t.result.message||"Error"):t?.payload))):n(),i={play:function(e){try{if(e.speed||(e.speed=1),void 0!==e.headless&&null!==e.headless||(e.headless=!1),!1===[.5,1,1.5,2].includes(e.speed))return Promise.reject(new Error("speed 参数错误"));if(e.mode||(e.mode="repeat_mode_all"),!["repeat_mode_one","repeat_mode_all","repeat_mode_random"].includes(e.mode))return Promise.reject(new Error("mode 参数错误"));if(!e.files.length)return Promise.reject(new Error("files 列表不能为空"));for(const t of e.files){if(!t.url)return Promise.reject(new Error("files 列表中 url 不能为空"));if(!t.name)return Promise.reject(new Error("files 列表中 name 不能为空"))}if(e?.toolbar&&e.toolbar.length)for(const t of e.toolbar){if(!t.icon)return Promise.reject(new Error("toolbar 列表中 icon 不能为空"));if(!t.code)return Promise.reject(new Error("toolbar 列表中 code 不能为空"));if(!t.label)return Promise.reject(new Error("toolbar 列表中 label 不能为空"))}return s(r?.audio?.play?.(e))}catch(e){return Promise.reject(e)}},pause:function(){return s(r?.audio?.pause?.())},resume:function(){return s(r?.audio?.resume?.())},destroy:function(){return s(r?.audio?.destroy?.())},delete:function(e){return s(r?.audio?.delete?.(e))},setSpeed:function(e){return s(r?.audio?.setSpeed?.(e))},setMode:function(e){return s(r?.audio?.setMode?.(e))},previous:function(){return s(r?.audio?.previous?.())},next:function(){return s(r?.audio?.next?.())},setPosition:function(e,t){return s(r?.audio?.setPosition?.(e,t))},append:function(e){return s(r?.audio?.append?.(e))},setToolbar:function(e){if(e?.toolbar&&e.toolbar.length)for(const t of e.toolbar){if(!t.icon)return Promise.reject(new Error("toolbar 列表中 icon 不能为空"));if(!t.code)return Promise.reject(new Error("toolbar 列表中 code 不能为空"));if(!t.label)return Promise.reject(new Error("toolbar 列表中 label 不能为空"))}return s(r?.audio?.setToolbar?.(e))},addEventListener:(e,t)=>{r?.audio?.addEventListener?r.audio?.addEventListener(e,t):console.error("audio addEventListener not supported.")},removeEventListener:(e,t)=>{r?.audio?.removeEventListener?r.audio?.removeEventListener(e,t):console.error("audio removeEventListener not supported.")},removeAllListeners:e=>{r?.audio?.removeAllListeners?r.audio?.removeAllListeners(e):console.error("audio removeAllListeners not supported.")}};var a,l;(l=a||(a={}))[l.onlyTop=1]="onlyTop",l[l.preferTop=2]="preferTop",l[l.desktop=3]="desktop";const d={active:[],deactive:[],login:[],logout:[],pay:[],orientation:[],network:[],swipe:[],token:[],permission:[],wallpaper:[],theme:[],language:[],safeArea:[],download:[],verify:[],keyboardHeight:[],event_job_start:[],event_job_pause:[],event_job_resume:[],event_job_cancel:[],event_job_done:[],event_job_error:[],event_job_progress:[],event_job_timeout:[],event_album_change:[],event_media_player_change:[],event_media_player_delete:[],event_media_player_export:[],event_service_pause:[],event_service_resume:[],event_service_status:[],event_service_delete:[],status:[],pause:[],resume:[],delete:[],change:[],close:[],select:[],start:[],cancel:[],retry:[],done:[],error:[],progress:[],connect_mode:[]};window.addEventListener("message",(e=>{const t=e.data.cmd;d[t]&&(d[t].forEach(((t,r)=>{if("function"==typeof t)if(t.__edger_uid__){const r=e.data.uid;t.__edger_uid__===r&&(t(e.data.payload,e.data.error),t.__edger_done__=!0)}else t(e.data.payload,e.data.error)})),d[t]=d[t].filter((e=>!0!==e.__edger_done__)))}));const p=(e,t)=>{const r=e;d[r]?d[r].push(t):d[r]=[t]},m=(e,t=a.preferTop)=>{t===a.preferTop?window.parent===window.parent.parent?(console.warn("No app shell, downgrade to desktop",e),window.parent.postMessage({...e},"*")):window.parent.parent.postMessage({...e},"*"):t===a.onlyTop?window.parent===window.parent.parent?console.warn("No app shell, ignore message",e):window.parent.parent.postMessage({...e},"*"):window.parent.postMessage({...e},"*")};let u=0;const c=(e,t,r={timeout:5e3,ignoreResponse:!0,deliverStrategy:a.preferTop,disableTimeout:!1},o="")=>{if(!e)throw new Error("Illegal cmd");const{timeout:n=1e3,ignoreResponse:s=!0,deliverStrategy:i,disableTimeout:l=!1}=r;return new Promise(((r,n)=>{if(s)m({cmd:e,payload:t,ts:Date.now()},i),r(void 0);else{const s=`${Math.random()}-${Date.now()}-${u++}`,a=function(e,t){t?(console.error("error",t),n({error:t})):r(e)};a.__edger_uid__=s,p(e,a),m({cmd:e,payload:t,uid:s,ts:Date.now(),scope:o},i)}}))},v=(e,t)=>{r?.system?.addEventListener?r.system?.addEventListener(e,t):console.error("mobile addEventListener not supported.")},g={qrscan:e=>c("qrscan",{...e},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:3e5,disableTimeout:!0}),contacts:()=>c("contacts",{},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:5e4}),getVolume:()=>s(r?.system?.getVolume?.()),networkInfo:()=>s(r?.system?.networkInfo?.()),onAction:v,addEventListener:v,removeEventListener:(e,t)=>{r?.system?.removeEventListener?r.system?.removeEventListener(e,t):console.error("mobile removeEventListener not supported.")},removeAllListeners:e=>{r?.system?.removeAllListeners?r.system?.removeAllListeners(e):console.error("mobile removeAllListeners not supported.")}},f={register:e=>s(r?.permissionTexts?.register?.(e)),unregister:e=>s(r?.permissionTexts?.unregister?.(e)),query:()=>s(r?.permissionTexts?.query?.())},h={height:0,activeElement:{el:null,originToBottomHeight:0}},y=["outApp","logout","desktop","route"];let E=[],L=-1;function b(){E=[],L=-1}const w=(e,t)=>e.mark&&t.mark?JSON.stringify(e)===JSON.stringify(t):JSON.stringify({...e,mark:""})===JSON.stringify({...t,mark:""});let _=!0;const A={init:function(){window._routerInitialized||(window._routerInitialized=Symbol(),b(),y.forEach((e=>{const t={...history.state,mark:e};!function(e){let t=e.current;location.hash&&"#"===location.hash[0]&&(t="#"+t),history.pushState(e,"",t)}(t),E.push(t),L++})),function(){const e=e=>{const t=history[e];return function(r,o,n){t.call(history,r,o,n);const s=new Event(e);window.dispatchEvent(s)}};history.pushState=e("pushState"),history.replaceState=e("replaceState"),window.addEventListener("pushState",(()=>{_&&(E=E.slice(0,L+1),E.push(history.state),L++)})),window.addEventListener("replaceState",(()=>{_&&E.splice(L,1,history.state)})),window.addEventListener("popstate",(()=>{_&&function(){if("desktop"===history.state.mark)return L=2,void history.go(1);if("logout"===history.state.mark)return L=1,void history.go(2);if("outApp"===history.state.mark)return L=0,void history.go(3);let e=-1;for(let t=L-1;t>0&&-1===e;t--)w(E[t],history.state)&&(e=t);for(let t=L+1;t<E.length&&-1===e;t++)w(E[t],history.state)&&(e=t);L=e,-1===L&&history.go(1)}()}))}(),"edgerapp"!==window?.__edger_env__?.env&&window.addEventListener("message",(e=>{const{cmd:t}=e.data;"active"===t?(_=!0,function(){const e=[...E],t=L;b();for(let t=0;t<e.length;t++)history.pushState(e[t],"",e[t].current);const r=t-e.length+1;r&&history.go(r)}()):"deactive"===t&&(_=!1)})))},direction:function(e){return history.state.current?.split("?")[0]===e?"forward":history.state.forward?.split("?")[0]===e?"backward":(history.state.back?.split("?")[0],"forward")},historyDepth:function(e){const t=E.findIndex((t=>t.current===e));return t<0?(console.warn("not find current route"),0):t>L?0:L-t},historyLength:function(){return L>3?L-3:0}},S=["top","left","right","bottom"],T={};let P,k,x;function C(){return k="CSS"in window&&"function"==typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",k}function j(){if(k="string"==typeof k?k:C(),!k)return void S.forEach((e=>{T[e]=0}));function e(e,t){const r=e.style;Object.keys(t).forEach((e=>{const o=t[e];r[e]=o}))}const t=[];function r(e){e?t.push(e):t.forEach((e=>{e()}))}let o=!1;try{const e=Object.defineProperty({},"passive",{get:function(){o={passive:!0}}});window.addEventListener("test",null,e)}catch(e){}x=document.createElement("div"),e(x,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),S.forEach((t=>{!function(t,n){const s=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),d={position:"absolute",width:"100px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:`${k}(safe-area-inset-${n})`};e(s,d),e(i,d),e(a,{transition:"0s",animation:"none",width:"400px",height:"400px"}),e(l,{transition:"0s",animation:"none",width:"250%",height:"250%"}),s.appendChild(a),i.appendChild(l),t.appendChild(s),t.appendChild(i),r((()=>{s.scrollTop=i.scrollTop=1e4;let e=s.scrollTop,t=i.scrollTop;function r(){this.scrollTop!==(this===s?e:t)&&(s.scrollTop=i.scrollTop=1e4,e=s.scrollTop,t=i.scrollTop,function(e){I.length||setTimeout((()=>{const e={};I.forEach((t=>{e[t]=T[t]})),I.length=0,N.forEach((t=>{t(e)}))}),0),I.push(e)}(n))}s.addEventListener("scroll",r,o),i.addEventListener("scroll",r,o)}));const p=getComputedStyle(s);Object.defineProperty(T,n,{configurable:!0,get:()=>parseFloat(p.paddingBottom)})}(x,t)})),document.body.appendChild(x),r(),P=!0}function R(e){return P||j(),T[e]}const I=[],N=[],M={get support(){return 0!=("string"==typeof k?k:C()).length},get top(){return R("top")},get left(){return R("left")},get right(){return R("right")},get bottom(){return R("bottom")},onChange:function(e){C()&&(P||j(),"function"==typeof e&&N.push(e))},offChange:function(e){const t=N.indexOf(e);t>=0&&N.splice(t,1)}},B=M,O=["top","left","right","bottom"];let q=!1;const H=()=>(q||(()=>{const e={top:B.top,left:B.left,right:B.right,bottom:B.bottom};O.forEach((t=>document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`)))})(),c("safeArea",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.desktop}).then((({safeAreaInsets:e})=>(O.forEach((t=>document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`))),q=!0,{safeAreaInsets:e}))).catch((()=>({safeAreaInsets:{top:B.top,left:B.left,right:B.right,bottom:B.bottom}})))),U=()=>{B.onChange((e=>{if(!q){const t=Object.keys(e);Array.isArray(t)&&t.length&&t.forEach((t=>{document.body.style.setProperty(`--edger-safe-area-inset-${t}`,`${e[t]}px`)}))}})),H()};document.body?U():window.addEventListener("load",(()=>{U()}));const $={open:e=>c("openFile",{id:e},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>({success:e}))).catch((()=>({success:!1}))),showMediaSelector:e=>s(r?.fs?.showMediaSelector?.(e)),releaseMediaSelector:()=>s(r?.fs?.releaseMediaSelector?.()),showFileSelector:e=>s(r?.fs?.showFileSelector?.(e)),dumpDir:e=>s(r?.fs?.dumpDir?.(e)),readAsBase64:e=>s(r?.fs?.readAsBase64?.(e)),stat:e=>s(r?.fs?.stat?.(e)),save:e=>s(r?.fs?.save?.(e))};function F(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}class D{type;config;id;listeners=new Map;constructor(e,t){this.type=e,this.config=t,this.id=F()}getId(){return this.id}present(){if(!this.config)return n("Parameter error");if(this.config.clickOverlayToClose??(this.config.clickOverlayToClose=!1),"bottom_sheet_btn"===this.type){const e=this.config;e.multiple??(e.multiple=!1),e.content.forEach((e=>{e?.label&&(e.labelColor??(e.labelColor="#0077fa"),e.labelBgColor??(e.labelBgColor="#eaf5ff"))}))}return s(r?.dialog?.present?.(this.id,this.type,this.config))}update(e){return s(r?.dialog?.update?.(this.id,this.type,e))}dismiss(){return s(r?.dialog?.dismiss?.(this.id))}onAction(e,t){if(r?.dialog?.addEventListener){const o=e=>{e.id===this.id&&t(e)};r.dialog?.addEventListener(e,o),this.listeners.set(t,{event:e,listener:o})}else console.error("dialog addEventListener not supported.")}addEventListener(e,t){if(r?.dialog?.addEventListener){const o=e=>{e.id===this.id&&t(e)};r.dialog?.addEventListener(e,o),this.listeners.set(t,{event:e,listener:o})}else console.error("dialog addEventListener not supported.")}removeEventListener(e,t){const o=this.listeners.get(t);o&&r?.dialog?.removeEventListener?r.dialog?.removeEventListener(e,o?.listener):console.error("dialog addEventListener not supported.")}removeAllListeners(e){r?.dialog?.removeAllListeners?this.listeners.forEach(((t,o)=>{e?t.event===e&&r.dialog?.removeEventListener(e,t.listener):r.dialog?.removeEventListener(e,t.listener)})):console.error("dialog addEventListener not supported.")}}const V=(e,t)=>{r?.dialog?.addEventListener?r.dialog?.addEventListener(e,t):console.error("dialog addEventListener not supported.")},z={create:(e,t)=>new D(e,t),onAction:V,addEventListener:V,removeEventListener:(e,t)=>{r?.dialog?.removeEventListener?r.dialog?.removeEventListener(e,t):console.error("dialog removeEventListener not supported.")},removeAllListeners:e=>{r?.dialog?.removeAllListeners?r.dialog?.removeAllListeners(e):console.error("dialog removeAllListeners not supported.")}},J=new class{present(e,t={}){return t?.duration??(t.duration=3e3),t?.position??(t.position="top"),s(r?.toast?.present?.(e,{...t,actions:t.actions?[t.actions]:void 0}))}addEventListener(e,t){r?.toast?.addEventListener?r.toast?.addEventListener(e,t):console.error("toast addEventListener not supported.")}removeEventListener(e,t){r?.toast?.removeEventListener?r.toast?.removeEventListener(e,t):console.error("toast removeEventListener not supported.")}removeAllListeners(e){r?.toast?.removeAllListeners?r.toast?.removeAllListeners(e):console.error("toast removeAllListeners not supported.")}},K=window.__edger__;function G(e,t,r={}){return K?.notice?(r??(r={}),r.singleton??(r.singleton=!0),r.duration??(r.duration=3e3),r.closable??(r.closable=!1),K.notice.present(t,e,r)):n()}const X=new class{info(e,t){return G("info",e,t)}success(e,t){return G("success",e,t)}warning(e,t){return G("warning",e,t)}error(e,t){return G("error",e,t)}dismiss(e){return K?.notify?K.notice.dismiss(e):Promise.reject(Error("Not Support"))}};class Z{duration;constructor(e=0){this.duration=e,this.id=F()}id;present(){return s(r?.loading?.present?.(this.id,this.duration))}dismiss(){return s(r?.loading?.dismiss?.(this.id))}}const W={create:e=>new Z(e)},Y=new class{constructor(){}address(e,t){return s(r?.geo?.address?.(e,t))}},Q=e=>r?.haptics&&r.haptics[e]?r.haptics[e]():n(),ee=()=>Q("impactMedium"),te=()=>Q("impactHeavy"),re=()=>Q("impactLight"),oe=()=>Q("impactTick"),ne=()=>Q("vibrate");["start","pause","resume","cancel","retry","resume","done","error","progress"].forEach((e=>{r?.on(`job_${e}`,(e=>{m(e)}))}));const se=(e,t)=>{r?.job?.addEventListener?r.job?.addEventListener(e,t):console.error("job addEventListener not supported.")},ie={create:(e,t,o)=>s(r?.job?.create?.(e,t,o)),get:e=>s(r?.job?.get?.(e)),cancel:(e,t)=>s(r?.job?.cancel?.(e,t)),pause:(e,t)=>s(r?.job?.pause?.(e,t)),resume:(e,t,o)=>s(r?.job?.resume?.(e,t,o)),retry:(e,t,o)=>s(r?.job?.retry?.(e,t,o)),errorSummary:()=>s(r?.job?.errorSummary?.()),updateStatus:(e,t)=>s(r?.job?.updateStatus?.(e,t)),history:{query:(e,t)=>s(r?.job?.history?.query?.(e,t)),count:e=>s(r?.job?.history?.count?.(e)),delete:e=>s(r?.job?.history?.delete?.(e)),deleteAll:e=>s(r?.job?.history?.deleteAll?.(e))},onAction:se,addEventListener:se,removeEventListener:(e,t)=>{r?.job?.removeEventListener?r.job?.removeEventListener(e,t):console.error("job removeEventListener not supported.")},removeAllListeners:e=>{r?.job?.removeAllListeners?r.job?.removeAllListeners(e):console.error("job removeAllListeners not supported.")}};r?.on("event_album_change",(e=>{m(e)}));const ae=(e,t)=>{r?.album?.addEventListener?r.album?.addEventListener(e,t):console.error("album addEventListener not supported.")},le={query:()=>s(r?.album?.query?.()),dir:e=>s(r?.album?.dir?.(e)),save:(e,t={})=>s(r?.album?.save?.({...e,headers:t})),onAction:ae,addEventListener:ae,removeEventListener:(e,t)=>{r?.album?.removeEventListener?r.album?.removeEventListener(e,t):console.error("album removeEventListener not supported.")},removeAllListeners:e=>{r?.album?.removeAllListeners?r.album?.removeAllListeners(e):console.error("album removeAllListeners not supported.")}};class de{constructor(e){this.id=F(),this.options=e}id;options;play(e){const t={...this.options,position:this.options?.position,toolbar:this.options?.toolbarItems,toolbarItems:void 0,sourceFrame:e};return s(r?.media?.play?.(this.id,t))}toolbar(e){return s(r?.media?.updateToolbar?.(this.id,e)).then((e=>(e?.playerId&&delete e.playerId,e)))}update(e,t,o=!0,n=!0){const i={playerId:this.id,index:e,file:t,loading:o,showError:n};return s(r?.media?.update?.(i))}layout(e){return s(r?.media?.updateLayout?.(this.id,0,e))}append(e,t){return s(r?.media?.append?.(this.id,{direction:t,files:e}))}drop(e){return s(r?.media?.drop?.(this.id,e))}close(e){return s(r?.media?.close?.(this.id,e))}setMode(e){const t={...e,playerId:this.id};return s(r?.media?.setMode?.(t))}setCasterControls(e){const t={...e,playerId:this.id};return s(r?.media?.setCasterControls?.(t))}scrollTo(e){const t={...e,playerId:this.id};return s(r?.media?.scrollTo?.(t))}updateAttributes(e){const t={...e,playerId:this.id};return s(r?.media?.updateAttributes?.(t))}addEventListener=(e,t)=>{r?.media?.addEventListener?r.media?.addEventListener(e,t):console.error("media addEventListener not supported.")};onAction=this.addEventListener;removeEventListener=(e,t)=>{r?.media?.removeEventListener?r.media?.removeEventListener(e,t):console.error("media removeEventListener not supported.")};removeAllListeners=e=>{r?.media?.removeAllListeners?r.media?.removeAllListeners(e):console.error("media removeAllListeners not supported.")}}const pe={player:e=>new de(e)},me=window.__edger__,ue={init:()=>Promise.resolve(),ready:()=>Promise.resolve(),reload:()=>Promise.resolve()},ce=me?me.lifecycle:ue,ve=(e,t)=>{r?.service?.addEventListener?r.service?.addEventListener(e,t):console.error("service addEventListener not supported.")},ge={create:e=>s(r?.service?.create?.(e)),run:e=>s(r?.service?.run?.(e)),pause:e=>s(r?.service?.pause?.(e)),resume:e=>s(r?.service?.resume?.(e)),query:()=>s(r?.service?.query?.()),remove:e=>s(r?.service?.delete?.(e)),status:e=>s(r?.service?.status?.(e)),onAction:ve,addEventListener:ve,removeEventListener:(e,t)=>{r?.service?.removeEventListener?r.service?.removeEventListener(e,t):console.error("service removeEventListener not supported.")},removeAllListeners:e=>{r?.service?.removeAllListeners?r.service?.removeAllListeners(e):console.error("service removeAllListeners not supported.")}},fe=(e,t)=>{r?.ssdp?.addEventListener?r.ssdp?.addEventListener(e,t):console.error("ssdp addEventListener not supported.")},he={init:e=>s(r?.ssdp?.init?.(e)),start:()=>s(r?.ssdp?.start?.()),stop:()=>s(r?.ssdp?.stop?.()),destroy:()=>s(r?.ssdp?.destroy?.()),getStatus:()=>s(r?.ssdp?.getStatus?.()),onAction:fe,addEventListener:fe,removeEventListener:(e,t)=>{r?.ssdp?.removeEventListener?r.ssdp?.removeEventListener(e,t):console.error("ssdp removeEventListener not supported.")},removeAllListeners:e=>{r?.ssdp?.removeAllListeners?r.ssdp?.removeAllListeners(e):console.error("ssdp removeAllListeners not supported.")}},ye=(e,t)=>{r?.caster?.addEventListener?r.caster?.addEventListener(e,t):console.error("caster addEventListener not supported.")},Ee={start:e=>s(r?.caster?.start?.(e)),stop:()=>s(r?.caster?.stop?.()),getStatus:()=>s(r?.caster?.getStatus?.()),onAction:ye,addEventListener:ye,removeEventListener:(e,t)=>{r?.caster?.removeEventListener?r.caster?.removeEventListener(e,t):console.error("caster removeEventListener not supported.")},removeAllListeners:e=>{r?.caster?.removeAllListeners?r.caster?.removeAllListeners(e):console.error("caster removeAllListeners not supported.")}},Le={name:"app.navigate",_name:"app.view.navigate",input:{path:!0,queryParams:!0},output:{success:!0}},be={name:"audio",event:{change:!0,status:!0,action:!0}},we={name:"audio.play",input:{index:!0,position:!0,autoPlay:!0,speed:!0,mode:!0,headless:!0,files:{id:!0,title:!0,url:!0,author:!0,cover:!0,size:!0,headers:!0},toolbar:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0}}},_e={name:"audio.setToolbar",input:{toolbar:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0}},output:{code:!0,id:!0}},Ae={name:"audio.destroy"},Se={name:"audio.delete",input:{index:!0},output:{}},Te={name:"float",event:{click:!0}},Pe={name:"float.show",input:{labelColor:!0,labelBgColor:!0,backgroundColor:!0,icon:!0,drag:!0,position:{x:!0,y:!0},margin:{top:!0,left:!0,right:!0,bottom:!0}},output:{id:!0}},ke={name:"float.hide",input:{id:!0}},xe={name:"float.animate",input:{id:!0,animation:!0}},Ce={name:"float.update",input:{id:!0,labelColor:!0,labelBgColor:!0,backgroundColor:!0,icon:!0,drag:!0,position:{top:!0,left:!0,right:!0,bottom:!0}}},je={[Pe.name]:Pe,[ke.name]:ke,[Te.name]:Te,[xe.name]:xe,[Ce.name]:Ce},Re={name:"keepAlive.start"},Ie={name:"keepAlive.update"},Ne={name:"keepAlive.stop"},Me={name:"media.player",_name:"media.play",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},position:{key:!0,value:!0},animation:!0,positionFileId:!0,toolbarItems:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},mode:!0,_files:"info.files",_position:"info.position",_toolbarItems:"info.toolbarItems",_mode:"info.mode"},event:{change:!0,close:!0,status:!0,action:!0,casterControls:!0}},Be={name:"media.player.play",_name:"media.play",input:{offsetX:!0,offsetY:!0,width:!0,height:!0}},Oe={name:"media.player.toolbar",_name:"media.updateToolbar",input:{icon:!0,code:!0,label:!0,disabled:!0,position:!0,labelColor:!0,labelBgColor:!0},output:{code:!0,id:!0}},qe={name:"media.player.update",_name:"media.update",input:{index:!0,file:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},loading:!0,showError:!0}},He={name:"media.player.layout",_name:"media.updateLayout",input:{title:!0,subtitle:!0,alignment:!0,animation:{mode:!0,config:{duration:!0,repeatCount:!0}}}},Ue={name:"media.player.append",_name:"media.append",input:{files:{title:!0,id:!0,type:!0,url:!0,thumbnailUrl:!0,livePhotoUrl:!0,headers:!0},direction:!0}},$e={name:"media.player.drop",_name:"media.drop",input:{id:!0}},Fe={name:"media.player.close",_name:"media.close",input:{options:{animation:!0}}},De={name:"media.player.setMode",_name:"media.setMode",input:{mode:!0}},Ve={name:"media.player.setCasterControls",_name:"media.setCasterControls",input:{status:!0,duration:!0,progress:!0,playerId:!0}},ze={name:"media.player.scrollTo",_name:"media.scrollTo",input:{positionFileId:!0}},Je={name:"media.player.updateAttributes",_name:"media.updateAttributes",input:{attributes:{key:!0,value:!0}}},Ke={name:"mobile.qrscan",_name:"system.qrscan"},Ge={name:"mobile.contacts",_name:"system.contacts"},Xe={name:"mobile.getVolume",_name:"system.getVolume"},Ze={name:"mobile.networkInfo",_name:"system.networkInfo"},We={name:"mobile.onAction",_name:"system.addEventListener"},Ye={name:"mobile.addEventListener",_name:"system.addEventListener"},Qe={name:"mobile.removeEventListener",_name:"system.removeEventListener"},et={name:"mobile.removeAllListeners",_name:"system.removeAllListeners"},tt={name:"multiplePanel",event:{change:!0,close:!0,status:!0,action:!0}},rt={name:"multiplePanel.open",input:{maxSelectedNum:!0,positionFileId:!0,files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0},groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},ot={name:"multiplePanel.close"},nt={name:"multiplePanel.append",input:{files:{id:!0,url:!0,thumbnailUrl:!0,fileName:!0,fileType:!0,fileDesc:!0,width:!0,height:!0,selected:!0,headers:!0}}},st={name:"multiplePanel.get",output:{ids:!0}},it={name:"multiplePanel.updateGroups",input:{groups:{icon:!0,label:!0,disabled:!0,items:{icon:!0,code:!0,label:!0,disabled:!0,labelColor:!0,labelBgColor:!0}}}},at={name:"permissionTexts.register",input:{params:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}},output:{success:!0}},lt={name:"permissionTexts.unregister",input:{params:{type:!0,code:!0}},output:{success:!0}},dt={name:"permissionTexts.query",output:{result:{type:!0,code:!0,dialogContent:!0,drawerContent:!0}}},pt={name:"filePreview",event:{status:!0}},mt={name:"filePreview.open",input:{files:{id:!0,name:!0,type:!0,url:!0,createTime:!0,modifyTime:!0,size:!0,headers:!0},positionFileId:!0}},ut={name:"filePreview.close"},ct={name:"filePreview.addEventListener"},vt={name:"filePreview.removeEventListener"},gt={name:"filePreview.removeAllListeners"},ft={[pt.name]:pt,[mt.name]:mt,[ut.name]:ut,[ct.name]:ct,[vt.name]:vt,[gt.name]:gt},ht={name:"share",event:{status:!0}},yt={name:"share.open",input:{channelType:!0,contentType:!0,content:{id:!0,name:!0,url:!0,headers:!0,title:!0,imgUrl:!0,size:!0}}},Et={name:"share.addEventListener"},Lt={name:"share.removeEventListener"},bt={name:"share.removeAllListeners"},wt={[ht.name]:ht,[yt.name]:yt,[Et.name]:Et,[Lt.name]:Lt,[bt.name]:bt},_t={name:"fs.save"},At={name:"fs.open"},St={name:"fs.showFileSelector"},Tt={name:"fs.showMediaSelector"},Pt={name:"fs.releaseMediaSelector"},kt={name:"fs.dumpDir"},xt={name:"fs.readAsBase64"},Ct={name:"fs.stat"},jt={[_t.name]:_t,[At.name]:At,[St.name]:St,[Tt.name]:Tt,[Pt.name]:Pt,[kt.name]:kt,[xt.name]:xt,[Ct.name]:Ct},Rt={[Le.name]:Le,[we.name]:we,[_e.name]:_e,[be.name]:be,[Ae.name]:Ae,[Se.name]:Se,[Me.name]:Me,[Be.name]:Be,[Oe.name]:Oe,[qe.name]:qe,[He.name]:He,[Ue.name]:Ue,[$e.name]:$e,[Fe.name]:Fe,[De.name]:De,[Ve.name]:Ve,[ze.name]:ze,[Je.name]:Je,[rt.name]:rt,[ot.name]:ot,[nt.name]:nt,[st.name]:st,[it.name]:it,[tt.name]:tt,[at.name]:at,[lt.name]:lt,[dt.name]:dt,[Ke.name]:Ke,[Ge.name]:Ge,[Xe.name]:Xe,[Ze.name]:Ze,[We.name]:We,[Ye.name]:Ye,[Qe.name]:Qe,[et.name]:et,[Re.name]:Re,[Ie.name]:Ie,[Ne.name]:Ne,...ft,...wt,...je,...ft,...jt};function It(e,t){try{if(!t)throw new Error("caps is null");const r=e.split(".");let o=t;for(;r.length;)if(o=o[r.shift()],void 0===o)return!1;return!0}catch(e){return console.error("checkKeyExist",e),!1}}const Nt={open:function(e){return s(r?.multiplePanel?.open?.(e))},close:function(){return s(r?.multiplePanel?.close?.())},get:function(){return s(r?.multiplePanel?.get?.())},append:function(e){return s(r?.multiplePanel?.append?.(e))},updateGroups:function(e){return s(r?.multiplePanel?.updateGroups?.(e))},addEventListener:(e,t)=>{r?.multiplePanel?.addEventListener?r.multiplePanel?.addEventListener(e,t):console.error("multiplePanel addEventListener not supported.")},removeEventListener:(e,t)=>{r?.multiplePanel?.removeEventListener?r.multiplePanel?.removeEventListener(e,t):console.error("multiplePanel removeEventListener not supported.")},removeAllListeners:e=>{r?.multiplePanel?.removeAllListeners?r.multiplePanel?.removeAllListeners(e):console.error("multiplePanel removeAllListeners not supported.")}},Mt=new class{start(){return s(r?.keepAlive?.start?.())}update(){return s(r?.keepAlive?.update?.())}stop(){return s(r?.keepAlive?.stop?.())}},Bt={show:function(e){let t=F();e.id&&(t=e.id);let o={...e,id:t};return s(r?.float?.show?.(o))},hide:function(e){return s(r?.float?.hide?.(e))},update:function(e){return s(r?.float?.update?.(e))},animate:function(e){return s(r?.float?.animate?.(e))},addEventListener:(e,t)=>{r?.float?.addEventListener?r.float?.addEventListener(e,t):console.error("float addEventListener not supported.")},removeEventListener:(e,t)=>{r?.float?.removeEventListener?r.float?.removeEventListener(e,t):console.error("float removeEventListener not supported.")},removeAllListeners:e=>{r?.float?.removeAllListeners?r.float?.removeAllListeners(e):console.error("float removeAllListeners not supported.")}},Ot=new class{open(e){return s(r?.filePreview?.open?.(e))}close(){return s(r?.filePreview?.close?.())}addEventListener(e,t){r?.filePreview?.addEventListener?r.filePreview?.addEventListener(e,t):console.error("filePreview addEventListener not supported.")}onAction(e,t){r?.filePreview?.addEventListener?r.filePreview?.addEventListener(e,t):console.error("filePreview onAction not supported.")}removeEventListener(e,t){r?.filePreview?.removeEventListener?r.filePreview?.removeEventListener(e,t):console.error("filePreview removeEventListener not supported.")}removeAllListeners(e){r?.filePreview?.removeAllListeners?r.filePreview?.removeAllListeners(e):console.error("filePreview removeAllListeners not supported.")}},qt=new class{open(e){return s(r?.share?.open?.(e))}addEventListener(e,t){r?.share?.addEventListener?r.share?.addEventListener(e,t):console.error("share addEventListener not supported.")}removeEventListener(e,t){r?.share?.removeEventListener?r.share?.removeEventListener(e,t):console.error("share removeEventListener not supported.")}removeAllListeners(e){r?.share?.removeAllListeners?r.share?.removeAllListeners(e):console.error("share removeAllListeners not supported.")}},Ht={open:(e,t)=>c("open",{target:e,letter:t},{deliverStrategy:a.desktop,ignoreResponse:!1,timeout:12e4}),appworld:e=>c("openAppInWorld",{target:{id:e}},{ignoreResponse:!1,timeout:12e4,deliverStrategy:a.desktop}),letter:()=>c("letter",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.desktop}),browser:e=>c("openInBrowser",{url:e},{deliverStrategy:a.desktop,ignoreResponse:!1}),title:e=>(window.__title=e,c("title",{title:e},{deliverStrategy:a.desktop,ignoreResponse:!1,timeout:5e3})),layout:()=>{const e=window.__edger__;return s(e?.app?.layout?.())},navigate:e=>{const t=window.__edger__;return s(t?.app?.view?.navigate?.(e))},callThirdPartyApp:e=>{const t=window.__edger__;return s(t?.app?.callThirdPartyApp?.(e))}},Ut={request:e=>c("reqPerms",e,{ignoreResponse:!1,timeout:12e4,deliverStrategy:a.desktop}),fetch:e=>c("permission",{data:e||null},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.desktop})},$t={download:(e,t,r)=>c("downloadFile",{uri:e,options:t,headers:r},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>{const{id:t,status:r,path:o}=e;return{id:t,status:r,path:o}})),abort:e=>c("downloadAbort",{id:e},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>({success:e}))).catch((()=>({success:!1}))),state:e=>c("downloadState",{id:e},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>(delete e.packageName,{...e}))),retry:e=>c("downloadFile",{id:e},{deliverStrategy:a.preferTop,ignoreResponse:!1,timeout:1e4}).then((e=>{const{id:t,status:r}=e;return{id:t,status:r}}))},Ft={state:()=>c("orientation",{},{deliverStrategy:a.preferTop,ignoreResponse:!1}),lock:e=>c("setOrientation",{type:"lock",orientation:e},{deliverStrategy:a.preferTop,ignoreResponse:!1}),unlock:()=>c("setOrientation",{type:"unlock"},{deliverStrategy:a.preferTop,ignoreResponse:!1})},Dt={pay:e=>c("payRequest",e,{deliverStrategy:a.desktop,ignoreResponse:!1,timeout:12e4})},Vt={verify:()=>c("verifySecurity",null,{deliverStrategy:a.desktop,ignoreResponse:!1,timeout:12e4})},zt={_on:p,_off:function(e){const t=e;return this.removeAllListeners(t)},_emit:m,_cmd:c,onAction:(e,t)=>{const r=d[e];r?(r.push(t),c("__edgeros_register_event__",{action:e},{deliverStrategy:a.desktop,ignoreResponse:!0})):console.warn(`The action you specified is unknown: ${e}`)},addEventListener:function(e,t){if("function"!=typeof t)throw new TypeError("listener must be a function");const r=d[e];return r&&(r.push(t),c("__edgeros_register_event__",{action:e},{deliverStrategy:a.desktop,ignoreResponse:!0})),this},removeEventListener:function(e,t){if("function"!=typeof t)throw new TypeError("listener must be a function");return d[e]&&(d[e]=d[e].filter((e=>e!==t))),this},removeAllListeners:function(e){return e?d[e]&&(d[e]=[]):Object.keys(d).forEach((e=>{d[e]&&(d[e]=[])})),this},user:()=>c("user",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.desktop}),avoidKeyboardOverlay:(e="#app",t=".van-dialog")=>window.addEventListener("message",(r=>{if("keyboardHeight"===r.data.cmd){let o=0,n=document.querySelector(e);const s=document.documentElement.clientHeight||document.body.clientHeight,i=document.activeElement;let l=document.activeElement;const d=+r.data.payload.keyboardHeight,p=document.querySelectorAll(t),u=Array.from(p).filter((e=>"none"!==e.style.display))[0],c=u&&"none"!==u.style.display;if(c&&(n=u,l=u,o=l.getBoundingClientRect().top),n.style.transition||(n.style.transition="margin-top .3s ease-in-out"),d||(h.height=0,h.activeElement.el=null,h.activeElement.originToBottomHeight=0,n.style.marginTop="0px"),d>0&&i&&("INPUT"===i.tagName.toUpperCase()||"TEXTAREA"===i.tagName.toUpperCase())){let e=!1,t=s-l.getBoundingClientRect().bottom;if(h.height){const r=h.activeElement.originToBottomHeight;if(r){let o=0;try{o=parseFloat(getComputedStyle(n).marginTop.replace(/[px ]/g,""))}catch(e){console.error("计算keyboard marginTop出错",e)}let a=s-i.getBoundingClientRect().bottom+o,l=0,d=40;h.activeElement.el&&(d=10,l=s-h.activeElement.el.getBoundingClientRect().bottom+o-h.activeElement.originToBottomHeight),a-=l,e=Math.abs(a-r)>d,t=e?a:r}}if(!e&&d<=h.height&&h.height-d<150)return;if(e||t<d){h.activeElement.el=i,h.activeElement.originToBottomHeight=t,h.height=d;let e=t-d;o>0&&(e=o-Math.abs(e)>25?e:25-o),e>=0&&(e=0),n.style.marginTop=e+"px",c||m({cmd:"switchStatusBar",payload:"hide"},a.onlyTop)}}else n.style.marginTop="0px",p.length&&Array.from(p).forEach((e=>e.style.marginTop="0px")),m({cmd:"switchStatusBar",payload:"show"},a.onlyTop)}})),audio:i,app:Ht,notify:X,mobile:g,permission:Ut,permissionTexts:f,payment:Dt,apps:(e,t=!1)=>c("apps",{appids:e,ico:t},{deliverStrategy:a.desktop,ignoreResponse:!1}),connectMode:()=>c("connectMode",{},{ignoreResponse:!1,deliverStrategy:a.preferTop,disableTimeout:!0}),orientation:Ft,network:()=>c("network",{},{ignoreResponse:!1,deliverStrategy:a.preferTop}),language:()=>c("language",{},{deliverStrategy:a.desktop,ignoreResponse:!1}),version:()=>c("version",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.desktop}),token:()=>c("token",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.desktop}),enableHistoryNavigation:()=>{r?.enableHistoryNavigation?.()},enableCustomNavigation:(e=!0)=>{r?.enableCustomNavigation?.(e)},theme:()=>c("theme",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.preferTop}),env:()=>c("env",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.preferTop}).then((e=>{const t=e;return"mobile"===t.env&&(t.env="edgerapp"),t})),deviceInfo:()=>c("deviceInfo",{},{ignoreResponse:!1,timeout:5e3,deliverStrategy:a.preferTop}).then((e=>e)),layout:{safeArea:H},downloadTask:$t,filesystem:$,fs:$,loading:W,dialog:z,toast:J,geo:Y,album:le,job:ie,security:Vt,router:A,haptics:t,media:pe,lifecycle:ce,service:ge,ssdp:he,caster:Ee,canIUse:function(e){return function(e,t){try{const r=Rt[e.name];if(!r)return!1;let o=e.name;if("_name"in r&&(o=r._name),!t?.canIUse({name:o}))return!1;if(e.input){if(!It(e.input,r.input))return!1;const n=function(e,t){try{if(!t)throw new Error("schema is null");const r=e.split(".");let o=t,n=[];for(;r.length;){const e=r.shift();`_${e}`in o?n.push(o[`_${e}`]):n.push(e),o=o[e]}return n.join(".")}catch(e){return console.error("mapToInternalSdkInput",e),""}}(e.input,r.input);if(!n||!t?.canIUse({name:o,input:n}))return!1}if(e.output&&!It(e.output,r.output))return!1;if(e.event){if(!r.event?.[e.event])return!1;if(!t?.canIUse({name:o,event:e.event}))return!1}return!0}catch(e){return console.error("schema format",e),!1}}(e,r)},multiplePanel:Nt,keepAlive:Mt,float:Bt,filePreview:Ot,share:qt,eap:{eviewHideAll:function(){return s(r?.eap?.eviewHideAll?.())}}};((e=10)=>{setInterval((()=>{c("ping",{},{ignoreResponse:!0,timeout:5e3,deliverStrategy:a.desktop})}),1e3*e)})(30),c("__edgeros_register__",{},{deliverStrategy:a.desktop,ignoreResponse:!0}),c("__edgeros_register__",{},{deliverStrategy:a.onlyTop,ignoreResponse:!0}),r?.setHeaders?r.setHeaders({version:"1.2.1"}):n(),window.edger=zt})();